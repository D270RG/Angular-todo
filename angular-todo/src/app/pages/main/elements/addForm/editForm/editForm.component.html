<div class="clickbox" tabindex="0"
                      *ngIf="this.visible" 
                      (touchend)="this.closeForm($event)">
    <form class="clickbox-form form-group bg-light rounded needs-validation" 
          [formGroup]="mainGroup" 
          (ngSubmit)="submitMain()" 
          (touchend)="formClick($event)"
          (mouseup)="formClick($event)">

        <div class="form-placeholder"></div>
        <button (click)="this.closeForm($event)" class="form-close btn btn-transparent"><i class="bi bi-x-lg"></i></button>
        
        <div class="mb-4"><h4>Edit TODO</h4></div>

        <div>
            <label>Name</label>
            <input [class.inputError]="this.errors.checkErrors('name')" type="text" formControlName="name" class="form-control"/>
            <div class="text-danger" *ngIf="this.errors.checkError('name','minlength')">
                Name must be at least 3 characters long
            </div>
        </div>

        <div>
            <label>Ð¡omment</label>
            <input type="text" formControlName="comment" class="form-control"/>
        </div>

        <div>
            <label>Link</label>
            <input type="text" formControlName="link" class="form-control"/>
        </div>

        <form class="form-group" formGroupName="tagsGroup" (ngSubmit)="submitTag()">
            <div>
            <label>Add tags</label>
            <input [class.inputError]="this.errors.checkErrors('tags')" type="text" formControlName="tagForm" class="form-control"/>
            </div>
            <div class="text-danger" *ngIf="this.errors.checkError('tags','required')">
                Tagname required
            </div>
            <div class="text-danger" *ngIf="this.errors.checkError('tags','maxlength')">
                Exceeded 64 symbol limit for a tag
            </div>
            <button class="btn btn-primary secondary-submit" type="submit">Add tag</button>
        </form>

        <tags (deleteTagEvent)="this.deleteTag($event)" [tags]=" this.mainGroup.get('tags')!.value"/>

        <button class="btn btn-primary primary-submit" type="submit">Submit</button>
    </form>
</div>